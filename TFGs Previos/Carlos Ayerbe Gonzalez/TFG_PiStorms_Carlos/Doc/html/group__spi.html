<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>My Project: SPI access</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="uc.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   &#160;<span id="projectnumber">v.1</span>
   </div>
   <div id="projectbrief">Lego Mindstorms&#39; sensors and actuators handlers for Raspberry Pi and MaRTE OS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SPI access</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6f0330a183f3c5765a36f1839e029a44"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga6f0330a183f3c5765a36f1839e029a44">bcm2835_spi_begin</a> (void)</td></tr>
<tr class="separator:ga6f0330a183f3c5765a36f1839e029a44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad25421b3a4a6ca280dfdd39c94c3279a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gad25421b3a4a6ca280dfdd39c94c3279a">bcm2835_spi_end</a> (void)</td></tr>
<tr class="separator:gad25421b3a4a6ca280dfdd39c94c3279a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0127eab1b6c3f8bf127bdac474fdc0f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga0127eab1b6c3f8bf127bdac474fdc0f9">bcm2835_spi_setBitOrder</a> (uint8_t order)</td></tr>
<tr class="separator:ga0127eab1b6c3f8bf127bdac474fdc0f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad623657d9513faa89d22ae1dc87eec38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gad623657d9513faa89d22ae1dc87eec38">bcm2835_spi_setClockDivider</a> (uint16_t divider)</td></tr>
<tr class="separator:gad623657d9513faa89d22ae1dc87eec38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabfbf797499756d38e3667f05ee8fd11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gabfbf797499756d38e3667f05ee8fd11d">bcm2835_spi_setDataMode</a> (uint8_t mode)</td></tr>
<tr class="separator:gabfbf797499756d38e3667f05ee8fd11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2fa186568605c21e9166a19b1d82ea95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga2fa186568605c21e9166a19b1d82ea95">bcm2835_spi_chipSelect</a> (uint8_t cs)</td></tr>
<tr class="separator:ga2fa186568605c21e9166a19b1d82ea95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee4edaf16fe21455441965bc57e78724"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gaee4edaf16fe21455441965bc57e78724">bcm2835_spi_setChipSelectPolarity</a> (uint8_t cs, uint8_t active)</td></tr>
<tr class="separator:gaee4edaf16fe21455441965bc57e78724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga600dc972f1064908b41b349c92d7647d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga600dc972f1064908b41b349c92d7647d">bcm2835_spi_transfer</a> (uint8_t value)</td></tr>
<tr class="separator:ga600dc972f1064908b41b349c92d7647d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac24692f270bb3411990ea706ddd4fee9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#gac24692f270bb3411990ea706ddd4fee9">bcm2835_spi_transfernb</a> (char *tbuf, char *rbuf, uint32_t len)</td></tr>
<tr class="separator:gac24692f270bb3411990ea706ddd4fee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06884e9cd71dfe380f846b09f47b7248"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga06884e9cd71dfe380f846b09f47b7248">bcm2835_spi_transfern</a> (char *buf, uint32_t len)</td></tr>
<tr class="separator:ga06884e9cd71dfe380f846b09f47b7248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b668c248fb9c09239bb59b7a2fad902"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi.html#ga1b668c248fb9c09239bb59b7a2fad902">bcm2835_spi_writenb</a> (char *buf, uint32_t len)</td></tr>
<tr class="separator:ga1b668c248fb9c09239bb59b7a2fad902"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These functions let you use SPI0 (Serial Peripheral Interface) to interface with an external SPI device. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga6f0330a183f3c5765a36f1839e029a44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bcm2835_spi_begin </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start SPI operations. Forces RPi SPI0 pins P1-19 (MOSI), P1-21 (MISO), P1-23 (CLK), P1-24 (CE0) and P1-26 (CE1) to alternate function ALT0, which enables those pins for SPI interface. You should call <a class="el" href="group__spi.html#gad25421b3a4a6ca280dfdd39c94c3279a">bcm2835_spi_end()</a> when all SPI funcitons are complete to return the pins to their default functions. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__spi.html#gad25421b3a4a6ca280dfdd39c94c3279a">bcm2835_spi_end()</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>1 if successful, 0 otherwise (perhaps because you are not running as root) </dd></dl>

<p>References <a class="el" href="group__gpio.html#gaf866b136c0a9fd4cca4065ce51eb4495">bcm2835_gpio_fsel()</a>, <a class="el" href="group__constants.html#gga485a5a69e864565b0cd18b33ae1f59f2abc84f3ee611fbe48876358ed590987d6">BCM2835_GPIO_FSEL_ALT0</a>, <a class="el" href="group__lowlevel.html#ga639da6963ab76e3109b9909f3a9e6171">bcm2835_peri_write()</a>, <a class="el" href="group__lowlevel.html#ga1c158b76d194b94d0b2fb1488f9ff30e">bcm2835_peri_write_nb()</a>, <a class="el" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a>, <a class="el" href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a>, <a class="el" href="group__constants.html#ga3edadb07afa115bb65af855b3d24b041">BCM2835_SPI0_CS_CLEAR</a>, <a class="el" href="group__constants.html#gga63c029bd6500167152db4e57736d0939aa55f690a41c9fe86afdffabcf2949e24">RPI_GPIO_P1_19</a>, <a class="el" href="group__constants.html#gga63c029bd6500167152db4e57736d0939adf0419ccc92c6631ce8cdaeec622a98a">RPI_GPIO_P1_21</a>, <a class="el" href="group__constants.html#gga63c029bd6500167152db4e57736d0939aafe48c0c9b4b7a595c9e2d4f3ee08728">RPI_GPIO_P1_23</a>, <a class="el" href="group__constants.html#gga63c029bd6500167152db4e57736d0939ad98192fb89861a5cc541a151b1eeb793">RPI_GPIO_P1_24</a>, and <a class="el" href="group__constants.html#gga63c029bd6500167152db4e57736d0939a0054a0a275142bbe81ceae66f4243faa">RPI_GPIO_P1_26</a>.</p>
<div class="fragment"><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;{</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keyword">volatile</span> uint32_t* paddr;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="comment">/* Set the SPI0 pins to the Alt 0 function to enable SPI0 access on them */</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="group__gpio.html#gaf866b136c0a9fd4cca4065ce51eb4495">bcm2835_gpio_fsel</a>(<a class="code" href="group__constants.html#gga63c029bd6500167152db4e57736d0939a0054a0a275142bbe81ceae66f4243faa">RPI_GPIO_P1_26</a>, <a class="code" href="group__constants.html#gga485a5a69e864565b0cd18b33ae1f59f2abc84f3ee611fbe48876358ed590987d6">BCM2835_GPIO_FSEL_ALT0</a>); <span class="comment">/* CE1 */</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="group__gpio.html#gaf866b136c0a9fd4cca4065ce51eb4495">bcm2835_gpio_fsel</a>(<a class="code" href="group__constants.html#gga63c029bd6500167152db4e57736d0939ad98192fb89861a5cc541a151b1eeb793">RPI_GPIO_P1_24</a>, <a class="code" href="group__constants.html#gga485a5a69e864565b0cd18b33ae1f59f2abc84f3ee611fbe48876358ed590987d6">BCM2835_GPIO_FSEL_ALT0</a>); <span class="comment">/* CE0 */</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="group__gpio.html#gaf866b136c0a9fd4cca4065ce51eb4495">bcm2835_gpio_fsel</a>(<a class="code" href="group__constants.html#gga63c029bd6500167152db4e57736d0939adf0419ccc92c6631ce8cdaeec622a98a">RPI_GPIO_P1_21</a>, <a class="code" href="group__constants.html#gga485a5a69e864565b0cd18b33ae1f59f2abc84f3ee611fbe48876358ed590987d6">BCM2835_GPIO_FSEL_ALT0</a>); <span class="comment">/* MISO */</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="group__gpio.html#gaf866b136c0a9fd4cca4065ce51eb4495">bcm2835_gpio_fsel</a>(<a class="code" href="group__constants.html#gga63c029bd6500167152db4e57736d0939aa55f690a41c9fe86afdffabcf2949e24">RPI_GPIO_P1_19</a>, <a class="code" href="group__constants.html#gga485a5a69e864565b0cd18b33ae1f59f2abc84f3ee611fbe48876358ed590987d6">BCM2835_GPIO_FSEL_ALT0</a>); <span class="comment">/* MOSI */</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <a class="code" href="group__gpio.html#gaf866b136c0a9fd4cca4065ce51eb4495">bcm2835_gpio_fsel</a>(<a class="code" href="group__constants.html#gga63c029bd6500167152db4e57736d0939aafe48c0c9b4b7a595c9e2d4f3ee08728">RPI_GPIO_P1_23</a>, <a class="code" href="group__constants.html#gga485a5a69e864565b0cd18b33ae1f59f2abc84f3ee611fbe48876358ed590987d6">BCM2835_GPIO_FSEL_ALT0</a>); <span class="comment">/* CLK */</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="comment">/* Set the SPI CS register to the some sensible defaults */</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    paddr = <a class="code" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a> + <a class="code" href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a>/4;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="group__lowlevel.html#ga639da6963ab76e3109b9909f3a9e6171">bcm2835_peri_write</a>(paddr, 0); <span class="comment">/* All 0s */</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="comment">/* Clear TX and RX fifos */</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="group__lowlevel.html#ga1c158b76d194b94d0b2fb1488f9ff30e">bcm2835_peri_write_nb</a>(paddr, <a class="code" href="group__constants.html#ga3edadb07afa115bb65af855b3d24b041">BCM2835_SPI0_CS_CLEAR</a>);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">return</span> 1; <span class="comment">// OK</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div>
<div class="ttc" id="group__constants_html_ga4e4dc09d2f844ac51bbc259c457cc2bc"><div class="ttname"><a href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a></div><div class="ttdeci">volatile uint32_t * bcm2835_spi0</div><div class="ttdef"><b>Definition:</b> bcm2835.c:64</div></div>
<div class="ttc" id="group__constants_html_gga63c029bd6500167152db4e57736d0939aafe48c0c9b4b7a595c9e2d4f3ee08728"><div class="ttname"><a href="group__constants.html#gga63c029bd6500167152db4e57736d0939aafe48c0c9b4b7a595c9e2d4f3ee08728">RPI_GPIO_P1_23</a></div><div class="ttdef"><b>Definition:</b> bcm2835.h:714</div></div>
<div class="ttc" id="group__gpio_html_gaf866b136c0a9fd4cca4065ce51eb4495"><div class="ttname"><a href="group__gpio.html#gaf866b136c0a9fd4cca4065ce51eb4495">bcm2835_gpio_fsel</a></div><div class="ttdeci">void bcm2835_gpio_fsel(uint8_t pin, uint8_t mode)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:221</div></div>
<div class="ttc" id="group__constants_html_gga63c029bd6500167152db4e57736d0939a0054a0a275142bbe81ceae66f4243faa"><div class="ttname"><a href="group__constants.html#gga63c029bd6500167152db4e57736d0939a0054a0a275142bbe81ceae66f4243faa">RPI_GPIO_P1_26</a></div><div class="ttdef"><b>Definition:</b> bcm2835.h:716</div></div>
<div class="ttc" id="group__lowlevel_html_ga1c158b76d194b94d0b2fb1488f9ff30e"><div class="ttname"><a href="group__lowlevel.html#ga1c158b76d194b94d0b2fb1488f9ff30e">bcm2835_peri_write_nb</a></div><div class="ttdeci">void bcm2835_peri_write_nb(volatile uint32_t *paddr, uint32_t value)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:176</div></div>
<div class="ttc" id="group__constants_html_gga485a5a69e864565b0cd18b33ae1f59f2abc84f3ee611fbe48876358ed590987d6"><div class="ttname"><a href="group__constants.html#gga485a5a69e864565b0cd18b33ae1f59f2abc84f3ee611fbe48876358ed590987d6">BCM2835_GPIO_FSEL_ALT0</a></div><div class="ttdef"><b>Definition:</b> bcm2835.h:637</div></div>
<div class="ttc" id="group__constants_html_gga63c029bd6500167152db4e57736d0939aa55f690a41c9fe86afdffabcf2949e24"><div class="ttname"><a href="group__constants.html#gga63c029bd6500167152db4e57736d0939aa55f690a41c9fe86afdffabcf2949e24">RPI_GPIO_P1_19</a></div><div class="ttdef"><b>Definition:</b> bcm2835.h:711</div></div>
<div class="ttc" id="group__constants_html_gga63c029bd6500167152db4e57736d0939adf0419ccc92c6631ce8cdaeec622a98a"><div class="ttname"><a href="group__constants.html#gga63c029bd6500167152db4e57736d0939adf0419ccc92c6631ce8cdaeec622a98a">RPI_GPIO_P1_21</a></div><div class="ttdef"><b>Definition:</b> bcm2835.h:712</div></div>
<div class="ttc" id="group__constants_html_gga63c029bd6500167152db4e57736d0939ad98192fb89861a5cc541a151b1eeb793"><div class="ttname"><a href="group__constants.html#gga63c029bd6500167152db4e57736d0939ad98192fb89861a5cc541a151b1eeb793">RPI_GPIO_P1_24</a></div><div class="ttdef"><b>Definition:</b> bcm2835.h:715</div></div>
<div class="ttc" id="group__constants_html_ga49919ca09a6264b1ff512497f96a7c0d"><div class="ttname"><a href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a></div><div class="ttdeci">#define BCM2835_SPI0_CS</div><div class="ttdef"><b>Definition:</b> bcm2835.h:785</div></div>
<div class="ttc" id="group__constants_html_ga3edadb07afa115bb65af855b3d24b041"><div class="ttname"><a href="group__constants.html#ga3edadb07afa115bb65af855b3d24b041">BCM2835_SPI0_CS_CLEAR</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_CLEAR</div><div class="ttdef"><b>Definition:</b> bcm2835.h:813</div></div>
<div class="ttc" id="group__lowlevel_html_ga639da6963ab76e3109b9909f3a9e6171"><div class="ttname"><a href="group__lowlevel.html#ga639da6963ab76e3109b9909f3a9e6171">bcm2835_peri_write</a></div><div class="ttdeci">void bcm2835_peri_write(volatile uint32_t *paddr, uint32_t value)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:161</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga2fa186568605c21e9166a19b1d82ea95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bcm2835_spi_chipSelect </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the chip select pin(s) When an <a class="el" href="group__spi.html#ga600dc972f1064908b41b349c92d7647d">bcm2835_spi_transfer()</a> is made, the selected pin(s) will be asserted during the transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cs</td><td>Specifies the CS pins(s) that are used to activate the desired slave. One of BCM2835_SPI_CS*, see <a class="el" href="group__constants.html#ga29bba154633d37d07fa130a86e4a1f2a">bcm2835SPIChipSelect</a> </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits()</a>, <a class="el" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a>, <a class="el" href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a>, and <a class="el" href="group__constants.html#ga8fa69b1d8f57c1e8d98dfd0cca94cf53">BCM2835_SPI0_CS_CS</a>.</p>
<div class="fragment"><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;{</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keyword">volatile</span> uint32_t* paddr = <a class="code" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a> + <a class="code" href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a>/4;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="comment">/* Mask in the CS bits of CS */</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a>(paddr, cs, <a class="code" href="group__constants.html#ga8fa69b1d8f57c1e8d98dfd0cca94cf53">BCM2835_SPI0_CS_CS</a>);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;}</div>
<div class="ttc" id="group__constants_html_ga4e4dc09d2f844ac51bbc259c457cc2bc"><div class="ttname"><a href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a></div><div class="ttdeci">volatile uint32_t * bcm2835_spi0</div><div class="ttdef"><b>Definition:</b> bcm2835.c:64</div></div>
<div class="ttc" id="group__constants_html_ga8fa69b1d8f57c1e8d98dfd0cca94cf53"><div class="ttname"><a href="group__constants.html#ga8fa69b1d8f57c1e8d98dfd0cca94cf53">BCM2835_SPI0_CS_CS</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_CS</div><div class="ttdef"><b>Definition:</b> bcm2835.h:818</div></div>
<div class="ttc" id="group__lowlevel_html_ga01949a6285305f38ce0a47154e55c1b6"><div class="ttname"><a href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a></div><div class="ttdeci">void bcm2835_peri_set_bits(volatile uint32_t *paddr, uint32_t value, uint32_t mask)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:192</div></div>
<div class="ttc" id="group__constants_html_ga49919ca09a6264b1ff512497f96a7c0d"><div class="ttname"><a href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a></div><div class="ttdeci">#define BCM2835_SPI0_CS</div><div class="ttdef"><b>Definition:</b> bcm2835.h:785</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gad25421b3a4a6ca280dfdd39c94c3279a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bcm2835_spi_end </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>End SPI operations. SPI0 pins P1-19 (MOSI), P1-21 (MISO), P1-23 (CLK), P1-24 (CE0) and P1-26 (CE1) are returned to their default INPUT behaviour. </p>

<p>References <a class="el" href="group__gpio.html#gaf866b136c0a9fd4cca4065ce51eb4495">bcm2835_gpio_fsel()</a>, <a class="el" href="group__constants.html#gga485a5a69e864565b0cd18b33ae1f59f2ab14bfe5240f66659c5dabef39641e0cf">BCM2835_GPIO_FSEL_INPT</a>, <a class="el" href="group__constants.html#gga63c029bd6500167152db4e57736d0939aa55f690a41c9fe86afdffabcf2949e24">RPI_GPIO_P1_19</a>, <a class="el" href="group__constants.html#gga63c029bd6500167152db4e57736d0939adf0419ccc92c6631ce8cdaeec622a98a">RPI_GPIO_P1_21</a>, <a class="el" href="group__constants.html#gga63c029bd6500167152db4e57736d0939aafe48c0c9b4b7a595c9e2d4f3ee08728">RPI_GPIO_P1_23</a>, <a class="el" href="group__constants.html#gga63c029bd6500167152db4e57736d0939ad98192fb89861a5cc541a151b1eeb793">RPI_GPIO_P1_24</a>, and <a class="el" href="group__constants.html#gga63c029bd6500167152db4e57736d0939a0054a0a275142bbe81ceae66f4243faa">RPI_GPIO_P1_26</a>.</p>
<div class="fragment"><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;{  </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="comment">/* Set all the SPI0 pins back to input */</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="group__gpio.html#gaf866b136c0a9fd4cca4065ce51eb4495">bcm2835_gpio_fsel</a>(<a class="code" href="group__constants.html#gga63c029bd6500167152db4e57736d0939a0054a0a275142bbe81ceae66f4243faa">RPI_GPIO_P1_26</a>, <a class="code" href="group__constants.html#gga485a5a69e864565b0cd18b33ae1f59f2ab14bfe5240f66659c5dabef39641e0cf">BCM2835_GPIO_FSEL_INPT</a>); <span class="comment">/* CE1 */</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="group__gpio.html#gaf866b136c0a9fd4cca4065ce51eb4495">bcm2835_gpio_fsel</a>(<a class="code" href="group__constants.html#gga63c029bd6500167152db4e57736d0939ad98192fb89861a5cc541a151b1eeb793">RPI_GPIO_P1_24</a>, <a class="code" href="group__constants.html#gga485a5a69e864565b0cd18b33ae1f59f2ab14bfe5240f66659c5dabef39641e0cf">BCM2835_GPIO_FSEL_INPT</a>); <span class="comment">/* CE0 */</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="group__gpio.html#gaf866b136c0a9fd4cca4065ce51eb4495">bcm2835_gpio_fsel</a>(<a class="code" href="group__constants.html#gga63c029bd6500167152db4e57736d0939adf0419ccc92c6631ce8cdaeec622a98a">RPI_GPIO_P1_21</a>, <a class="code" href="group__constants.html#gga485a5a69e864565b0cd18b33ae1f59f2ab14bfe5240f66659c5dabef39641e0cf">BCM2835_GPIO_FSEL_INPT</a>); <span class="comment">/* MISO */</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="group__gpio.html#gaf866b136c0a9fd4cca4065ce51eb4495">bcm2835_gpio_fsel</a>(<a class="code" href="group__constants.html#gga63c029bd6500167152db4e57736d0939aa55f690a41c9fe86afdffabcf2949e24">RPI_GPIO_P1_19</a>, <a class="code" href="group__constants.html#gga485a5a69e864565b0cd18b33ae1f59f2ab14bfe5240f66659c5dabef39641e0cf">BCM2835_GPIO_FSEL_INPT</a>); <span class="comment">/* MOSI */</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <a class="code" href="group__gpio.html#gaf866b136c0a9fd4cca4065ce51eb4495">bcm2835_gpio_fsel</a>(<a class="code" href="group__constants.html#gga63c029bd6500167152db4e57736d0939aafe48c0c9b4b7a595c9e2d4f3ee08728">RPI_GPIO_P1_23</a>, <a class="code" href="group__constants.html#gga485a5a69e864565b0cd18b33ae1f59f2ab14bfe5240f66659c5dabef39641e0cf">BCM2835_GPIO_FSEL_INPT</a>); <span class="comment">/* CLK */</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;}</div>
<div class="ttc" id="group__constants_html_gga485a5a69e864565b0cd18b33ae1f59f2ab14bfe5240f66659c5dabef39641e0cf"><div class="ttname"><a href="group__constants.html#gga485a5a69e864565b0cd18b33ae1f59f2ab14bfe5240f66659c5dabef39641e0cf">BCM2835_GPIO_FSEL_INPT</a></div><div class="ttdef"><b>Definition:</b> bcm2835.h:635</div></div>
<div class="ttc" id="group__constants_html_gga63c029bd6500167152db4e57736d0939aafe48c0c9b4b7a595c9e2d4f3ee08728"><div class="ttname"><a href="group__constants.html#gga63c029bd6500167152db4e57736d0939aafe48c0c9b4b7a595c9e2d4f3ee08728">RPI_GPIO_P1_23</a></div><div class="ttdef"><b>Definition:</b> bcm2835.h:714</div></div>
<div class="ttc" id="group__gpio_html_gaf866b136c0a9fd4cca4065ce51eb4495"><div class="ttname"><a href="group__gpio.html#gaf866b136c0a9fd4cca4065ce51eb4495">bcm2835_gpio_fsel</a></div><div class="ttdeci">void bcm2835_gpio_fsel(uint8_t pin, uint8_t mode)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:221</div></div>
<div class="ttc" id="group__constants_html_gga63c029bd6500167152db4e57736d0939a0054a0a275142bbe81ceae66f4243faa"><div class="ttname"><a href="group__constants.html#gga63c029bd6500167152db4e57736d0939a0054a0a275142bbe81ceae66f4243faa">RPI_GPIO_P1_26</a></div><div class="ttdef"><b>Definition:</b> bcm2835.h:716</div></div>
<div class="ttc" id="group__constants_html_gga63c029bd6500167152db4e57736d0939aa55f690a41c9fe86afdffabcf2949e24"><div class="ttname"><a href="group__constants.html#gga63c029bd6500167152db4e57736d0939aa55f690a41c9fe86afdffabcf2949e24">RPI_GPIO_P1_19</a></div><div class="ttdef"><b>Definition:</b> bcm2835.h:711</div></div>
<div class="ttc" id="group__constants_html_gga63c029bd6500167152db4e57736d0939adf0419ccc92c6631ce8cdaeec622a98a"><div class="ttname"><a href="group__constants.html#gga63c029bd6500167152db4e57736d0939adf0419ccc92c6631ce8cdaeec622a98a">RPI_GPIO_P1_21</a></div><div class="ttdef"><b>Definition:</b> bcm2835.h:712</div></div>
<div class="ttc" id="group__constants_html_gga63c029bd6500167152db4e57736d0939ad98192fb89861a5cc541a151b1eeb793"><div class="ttname"><a href="group__constants.html#gga63c029bd6500167152db4e57736d0939ad98192fb89861a5cc541a151b1eeb793">RPI_GPIO_P1_24</a></div><div class="ttdef"><b>Definition:</b> bcm2835.h:715</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga0127eab1b6c3f8bf127bdac474fdc0f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bcm2835_spi_setBitOrder </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>order</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the SPI bit order NOTE: has no effect. Not supported by SPI0. Defaults to </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">order</td><td>The desired bit order, one of BCM2835_SPI_BIT_ORDER_*, see <a class="el" href="group__constants.html#ga1dd00efbd834646f75240c39a41c9856">bcm2835SPIBitOrder</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaee4edaf16fe21455441965bc57e78724"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bcm2835_spi_setChipSelectPolarity </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>active</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the chip select pin polarity for a given pin When an <a class="el" href="group__spi.html#ga600dc972f1064908b41b349c92d7647d">bcm2835_spi_transfer()</a> occurs, the currently selected chip select pin(s) will be asserted to the value given by active. When transfers are not happening, the chip select pin(s) return to the complement (inactive) value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cs</td><td>The chip select pin to affect </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">active</td><td>Whether the chip select pin is to be active HIGH </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits()</a>, <a class="el" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a>, and <a class="el" href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a>.</p>
<div class="fragment"><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;{</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keyword">volatile</span> uint32_t* paddr = <a class="code" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a> + <a class="code" href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a>/4;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    uint8_t shift = 21 + cs;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="comment">/* Mask in the appropriate CSPOLn bit */</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <a class="code" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a>(paddr, active &lt;&lt; shift, 1 &lt;&lt; shift);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;}</div>
<div class="ttc" id="group__constants_html_ga4e4dc09d2f844ac51bbc259c457cc2bc"><div class="ttname"><a href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a></div><div class="ttdeci">volatile uint32_t * bcm2835_spi0</div><div class="ttdef"><b>Definition:</b> bcm2835.c:64</div></div>
<div class="ttc" id="group__lowlevel_html_ga01949a6285305f38ce0a47154e55c1b6"><div class="ttname"><a href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a></div><div class="ttdeci">void bcm2835_peri_set_bits(volatile uint32_t *paddr, uint32_t value, uint32_t mask)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:192</div></div>
<div class="ttc" id="group__constants_html_ga49919ca09a6264b1ff512497f96a7c0d"><div class="ttname"><a href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a></div><div class="ttdeci">#define BCM2835_SPI0_CS</div><div class="ttdef"><b>Definition:</b> bcm2835.h:785</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gad623657d9513faa89d22ae1dc87eec38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bcm2835_spi_setClockDivider </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>divider</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the SPI clock divider and therefore the SPI clock speed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">divider</td><td>The desired SPI clock divider, one of BCM2835_SPI_CLOCK_DIVIDER_*, see <a class="el" href="group__constants.html#gaf2e0ca069b8caef24602a02e8a00884e">bcm2835SPIClockDivider</a> </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__lowlevel.html#ga639da6963ab76e3109b9909f3a9e6171">bcm2835_peri_write()</a>, <a class="el" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a>, and <a class="el" href="group__constants.html#gaffd3d1ae9288feffa1a3201ee20410b8">BCM2835_SPI0_CLK</a>.</p>
<div class="fragment"><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;{</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keyword">volatile</span> uint32_t* paddr = <a class="code" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a> + <a class="code" href="group__constants.html#gaffd3d1ae9288feffa1a3201ee20410b8">BCM2835_SPI0_CLK</a>/4;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="group__lowlevel.html#ga639da6963ab76e3109b9909f3a9e6171">bcm2835_peri_write</a>(paddr, divider);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;}</div>
<div class="ttc" id="group__constants_html_gaffd3d1ae9288feffa1a3201ee20410b8"><div class="ttname"><a href="group__constants.html#gaffd3d1ae9288feffa1a3201ee20410b8">BCM2835_SPI0_CLK</a></div><div class="ttdeci">#define BCM2835_SPI0_CLK</div><div class="ttdef"><b>Definition:</b> bcm2835.h:787</div></div>
<div class="ttc" id="group__constants_html_ga4e4dc09d2f844ac51bbc259c457cc2bc"><div class="ttname"><a href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a></div><div class="ttdeci">volatile uint32_t * bcm2835_spi0</div><div class="ttdef"><b>Definition:</b> bcm2835.c:64</div></div>
<div class="ttc" id="group__lowlevel_html_ga639da6963ab76e3109b9909f3a9e6171"><div class="ttname"><a href="group__lowlevel.html#ga639da6963ab76e3109b9909f3a9e6171">bcm2835_peri_write</a></div><div class="ttdeci">void bcm2835_peri_write(volatile uint32_t *paddr, uint32_t value)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:161</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gabfbf797499756d38e3667f05ee8fd11d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bcm2835_spi_setDataMode </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the SPI data mode Sets the clock polariy and phase </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>The desired data mode, one of BCM2835_SPI_MODE*, see <a class="el" href="group__constants.html#ga8dd7bb496565324800130100e6bf6d86">bcm2835SPIMode</a> </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits()</a>, <a class="el" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a>, <a class="el" href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a>, <a class="el" href="group__constants.html#gacb5072e523048c4ddbb123777ef65900">BCM2835_SPI0_CS_CPHA</a>, and <a class="el" href="group__constants.html#gaceab67c6e391ac48efaa7ab699f44ad7">BCM2835_SPI0_CS_CPOL</a>.</p>
<div class="fragment"><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;{</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keyword">volatile</span> uint32_t* paddr = <a class="code" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a> + <a class="code" href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a>/4;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="comment">/* Mask in the CPO and CPHA bits of CS */</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a>(paddr, mode &lt;&lt; 2, <a class="code" href="group__constants.html#gaceab67c6e391ac48efaa7ab699f44ad7">BCM2835_SPI0_CS_CPOL</a> | <a class="code" href="group__constants.html#gacb5072e523048c4ddbb123777ef65900">BCM2835_SPI0_CS_CPHA</a>);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;}</div>
<div class="ttc" id="group__constants_html_ga4e4dc09d2f844ac51bbc259c457cc2bc"><div class="ttname"><a href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a></div><div class="ttdeci">volatile uint32_t * bcm2835_spi0</div><div class="ttdef"><b>Definition:</b> bcm2835.c:64</div></div>
<div class="ttc" id="group__constants_html_gaceab67c6e391ac48efaa7ab699f44ad7"><div class="ttname"><a href="group__constants.html#gaceab67c6e391ac48efaa7ab699f44ad7">BCM2835_SPI0_CS_CPOL</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_CPOL</div><div class="ttdef"><b>Definition:</b> bcm2835.h:816</div></div>
<div class="ttc" id="group__constants_html_gacb5072e523048c4ddbb123777ef65900"><div class="ttname"><a href="group__constants.html#gacb5072e523048c4ddbb123777ef65900">BCM2835_SPI0_CS_CPHA</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_CPHA</div><div class="ttdef"><b>Definition:</b> bcm2835.h:817</div></div>
<div class="ttc" id="group__lowlevel_html_ga01949a6285305f38ce0a47154e55c1b6"><div class="ttname"><a href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a></div><div class="ttdeci">void bcm2835_peri_set_bits(volatile uint32_t *paddr, uint32_t value, uint32_t mask)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:192</div></div>
<div class="ttc" id="group__constants_html_ga49919ca09a6264b1ff512497f96a7c0d"><div class="ttname"><a href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a></div><div class="ttdeci">#define BCM2835_SPI0_CS</div><div class="ttdef"><b>Definition:</b> bcm2835.h:785</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga600dc972f1064908b41b349c92d7647d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bcm2835_spi_transfer </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transfers one byte to and from the currently selected SPI slave. Asserts the currently selected CS pins (as previously set by bcm2835_spi_chipSelect) during the transfer. Clocks the 8 bit value out on MOSI, and simultaneously clocks in data from MISO. Returns the read data byte from the slave. Uses polled transfer as per section 10.6.1 of the BCM 2835 ARM Peripherls manual </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>The 8 bit data byte to write to MOSI </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The 8 bit byte simultaneously read from MISO </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__spi.html#ga06884e9cd71dfe380f846b09f47b7248">bcm2835_spi_transfern()</a> </dd></dl>

<p>References <a class="el" href="group__lowlevel.html#ga5f242135f5088f8c319492426a1ed5e3">bcm2835_peri_read()</a>, <a class="el" href="group__lowlevel.html#ga0f541d0997978dd30f60231b64f10230">bcm2835_peri_read_nb()</a>, <a class="el" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits()</a>, <a class="el" href="group__lowlevel.html#ga1c158b76d194b94d0b2fb1488f9ff30e">bcm2835_peri_write_nb()</a>, <a class="el" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a>, <a class="el" href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a>, <a class="el" href="group__constants.html#ga3edadb07afa115bb65af855b3d24b041">BCM2835_SPI0_CS_CLEAR</a>, <a class="el" href="group__constants.html#gaf08ece95c7f4b756e9b7ad04ca28bf1f">BCM2835_SPI0_CS_DONE</a>, <a class="el" href="group__constants.html#ga5bd14ddfd24fef1ab1fba861d03a434f">BCM2835_SPI0_CS_TA</a>, <a class="el" href="group__constants.html#ga510230183c6e2b2214e7ec6f14b018a1">BCM2835_SPI0_CS_TXD</a>, and <a class="el" href="group__constants.html#gabaa8c00767e856c38e3519eb9b5b73e0">BCM2835_SPI0_FIFO</a>.</p>
<div class="fragment"><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;{</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keyword">volatile</span> uint32_t* paddr = <a class="code" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a> + <a class="code" href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a>/4;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keyword">volatile</span> uint32_t* fifo = <a class="code" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a> + <a class="code" href="group__constants.html#gabaa8c00767e856c38e3519eb9b5b73e0">BCM2835_SPI0_FIFO</a>/4;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    uint32_t ret;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="comment">/* This is Polled transfer as per section 10.6.1</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment">    // BUG ALERT: what happens if we get interupted in this section, and someone else</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment">    // accesses a different peripheral? </span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">    // Clear TX and RX fifos</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a>(paddr, <a class="code" href="group__constants.html#ga3edadb07afa115bb65af855b3d24b041">BCM2835_SPI0_CS_CLEAR</a>, <a class="code" href="group__constants.html#ga3edadb07afa115bb65af855b3d24b041">BCM2835_SPI0_CS_CLEAR</a>);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">/* Set TA = 1 */</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a>(paddr, <a class="code" href="group__constants.html#ga5bd14ddfd24fef1ab1fba861d03a434f">BCM2835_SPI0_CS_TA</a>, <a class="code" href="group__constants.html#ga5bd14ddfd24fef1ab1fba861d03a434f">BCM2835_SPI0_CS_TA</a>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">/* Maybe wait for TXD */</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">while</span> (!(<a class="code" href="group__lowlevel.html#ga5f242135f5088f8c319492426a1ed5e3">bcm2835_peri_read</a>(paddr) &amp; <a class="code" href="group__constants.html#ga510230183c6e2b2214e7ec6f14b018a1">BCM2835_SPI0_CS_TXD</a>))</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    ;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="comment">/* Write to FIFO, no barrier */</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <a class="code" href="group__lowlevel.html#ga1c158b76d194b94d0b2fb1488f9ff30e">bcm2835_peri_write_nb</a>(fifo, value);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="comment">/* Wait for DONE to be set */</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">while</span> (!(<a class="code" href="group__lowlevel.html#ga0f541d0997978dd30f60231b64f10230">bcm2835_peri_read_nb</a>(paddr) &amp; <a class="code" href="group__constants.html#gaf08ece95c7f4b756e9b7ad04ca28bf1f">BCM2835_SPI0_CS_DONE</a>))</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    ;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="comment">/* Read any byte that was sent back by the slave while we sere sending to it */</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    ret = <a class="code" href="group__lowlevel.html#ga0f541d0997978dd30f60231b64f10230">bcm2835_peri_read_nb</a>(fifo);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">/* Set TA = 0, and also set the barrier */</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <a class="code" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a>(paddr, 0, <a class="code" href="group__constants.html#ga5bd14ddfd24fef1ab1fba861d03a434f">BCM2835_SPI0_CS_TA</a>);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;}</div>
<div class="ttc" id="group__constants_html_ga4e4dc09d2f844ac51bbc259c457cc2bc"><div class="ttname"><a href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a></div><div class="ttdeci">volatile uint32_t * bcm2835_spi0</div><div class="ttdef"><b>Definition:</b> bcm2835.c:64</div></div>
<div class="ttc" id="group__lowlevel_html_ga0f541d0997978dd30f60231b64f10230"><div class="ttname"><a href="group__lowlevel.html#ga0f541d0997978dd30f60231b64f10230">bcm2835_peri_read_nb</a></div><div class="ttdeci">uint32_t bcm2835_peri_read_nb(volatile uint32_t *paddr)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:145</div></div>
<div class="ttc" id="group__constants_html_gaf08ece95c7f4b756e9b7ad04ca28bf1f"><div class="ttname"><a href="group__constants.html#gaf08ece95c7f4b756e9b7ad04ca28bf1f">BCM2835_SPI0_CS_DONE</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_DONE</div><div class="ttdef"><b>Definition:</b> bcm2835.h:802</div></div>
<div class="ttc" id="group__lowlevel_html_ga5f242135f5088f8c319492426a1ed5e3"><div class="ttname"><a href="group__lowlevel.html#ga5f242135f5088f8c319492426a1ed5e3">bcm2835_peri_read</a></div><div class="ttdeci">uint32_t bcm2835_peri_read(volatile uint32_t *paddr)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:122</div></div>
<div class="ttc" id="group__lowlevel_html_ga1c158b76d194b94d0b2fb1488f9ff30e"><div class="ttname"><a href="group__lowlevel.html#ga1c158b76d194b94d0b2fb1488f9ff30e">bcm2835_peri_write_nb</a></div><div class="ttdeci">void bcm2835_peri_write_nb(volatile uint32_t *paddr, uint32_t value)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:176</div></div>
<div class="ttc" id="group__constants_html_ga5bd14ddfd24fef1ab1fba861d03a434f"><div class="ttname"><a href="group__constants.html#ga5bd14ddfd24fef1ab1fba861d03a434f">BCM2835_SPI0_CS_TA</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_TA</div><div class="ttdef"><b>Definition:</b> bcm2835.h:811</div></div>
<div class="ttc" id="group__constants_html_gabaa8c00767e856c38e3519eb9b5b73e0"><div class="ttname"><a href="group__constants.html#gabaa8c00767e856c38e3519eb9b5b73e0">BCM2835_SPI0_FIFO</a></div><div class="ttdeci">#define BCM2835_SPI0_FIFO</div><div class="ttdef"><b>Definition:</b> bcm2835.h:786</div></div>
<div class="ttc" id="group__lowlevel_html_ga01949a6285305f38ce0a47154e55c1b6"><div class="ttname"><a href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a></div><div class="ttdeci">void bcm2835_peri_set_bits(volatile uint32_t *paddr, uint32_t value, uint32_t mask)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:192</div></div>
<div class="ttc" id="group__constants_html_ga49919ca09a6264b1ff512497f96a7c0d"><div class="ttname"><a href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a></div><div class="ttdeci">#define BCM2835_SPI0_CS</div><div class="ttdef"><b>Definition:</b> bcm2835.h:785</div></div>
<div class="ttc" id="group__constants_html_ga510230183c6e2b2214e7ec6f14b018a1"><div class="ttname"><a href="group__constants.html#ga510230183c6e2b2214e7ec6f14b018a1">BCM2835_SPI0_CS_TXD</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_TXD</div><div class="ttdef"><b>Definition:</b> bcm2835.h:800</div></div>
<div class="ttc" id="group__constants_html_ga3edadb07afa115bb65af855b3d24b041"><div class="ttname"><a href="group__constants.html#ga3edadb07afa115bb65af855b3d24b041">BCM2835_SPI0_CS_CLEAR</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_CLEAR</div><div class="ttdef"><b>Definition:</b> bcm2835.h:813</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga06884e9cd71dfe380f846b09f47b7248"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bcm2835_spi_transfern </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transfers any number of bytes to and from the currently selected SPI slave using bcm2835_spi_transfernb. The returned data from the slave replaces the transmitted data in the buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buf</td><td>Buffer of bytes to send. Received bytes will replace the contents </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Number of bytes int eh buffer, and the number of bytes to send/received </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__spi.html#ga600dc972f1064908b41b349c92d7647d">bcm2835_spi_transfer()</a> </dd></dl>

<p>References <a class="el" href="group__spi.html#gac24692f270bb3411990ea706ddd4fee9">bcm2835_spi_transfernb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="group__spi.html#gac24692f270bb3411990ea706ddd4fee9">bcm2835_spi_transfernb</a>(buf, buf, len);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;}</div>
<div class="ttc" id="group__spi_html_gac24692f270bb3411990ea706ddd4fee9"><div class="ttname"><a href="group__spi.html#gac24692f270bb3411990ea706ddd4fee9">bcm2835_spi_transfernb</a></div><div class="ttdeci">void bcm2835_spi_transfernb(char *tbuf, char *rbuf, uint32_t len)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:628</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gac24692f270bb3411990ea706ddd4fee9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bcm2835_spi_transfernb </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>tbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>rbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transfers any number of bytes to and from the currently selected SPI slave. Asserts the currently selected CS pins (as previously set by bcm2835_spi_chipSelect) during the transfer. Clocks the len 8 bit bytes out on MOSI, and simultaneously clocks in data from MISO. The data read read from the slave is placed into rbuf. rbuf must be at least len bytes long Uses polled transfer as per section 10.6.1 of the BCM 2835 ARM Peripherls manual </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tbuf</td><td>Buffer of bytes to send. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rbuf</td><td>Received bytes will by put in this buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Number of bytes in the tbuf buffer, and the number of bytes to send/received </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__spi.html#ga600dc972f1064908b41b349c92d7647d">bcm2835_spi_transfer()</a> </dd></dl>

<p>References <a class="el" href="group__lowlevel.html#ga5f242135f5088f8c319492426a1ed5e3">bcm2835_peri_read()</a>, <a class="el" href="group__lowlevel.html#ga0f541d0997978dd30f60231b64f10230">bcm2835_peri_read_nb()</a>, <a class="el" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits()</a>, <a class="el" href="group__lowlevel.html#ga1c158b76d194b94d0b2fb1488f9ff30e">bcm2835_peri_write_nb()</a>, <a class="el" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a>, <a class="el" href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a>, <a class="el" href="group__constants.html#ga3edadb07afa115bb65af855b3d24b041">BCM2835_SPI0_CS_CLEAR</a>, <a class="el" href="group__constants.html#gaf08ece95c7f4b756e9b7ad04ca28bf1f">BCM2835_SPI0_CS_DONE</a>, <a class="el" href="group__constants.html#ga62071206e365c0709810f9ba99bfbf0a">BCM2835_SPI0_CS_RXD</a>, <a class="el" href="group__constants.html#ga5bd14ddfd24fef1ab1fba861d03a434f">BCM2835_SPI0_CS_TA</a>, <a class="el" href="group__constants.html#ga510230183c6e2b2214e7ec6f14b018a1">BCM2835_SPI0_CS_TXD</a>, and <a class="el" href="group__constants.html#gabaa8c00767e856c38e3519eb9b5b73e0">BCM2835_SPI0_FIFO</a>.</p>

<p>Referenced by <a class="el" href="group__spi.html#ga06884e9cd71dfe380f846b09f47b7248">bcm2835_spi_transfern()</a>.</p>
<div class="fragment"><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;{</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keyword">volatile</span> uint32_t* paddr = <a class="code" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a> + <a class="code" href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a>/4;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keyword">volatile</span> uint32_t* fifo = <a class="code" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a> + <a class="code" href="group__constants.html#gabaa8c00767e856c38e3519eb9b5b73e0">BCM2835_SPI0_FIFO</a>/4;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    uint32_t TXCnt=0;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    uint32_t RXCnt=0;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="comment">/* This is Polled transfer as per section 10.6.1</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">    // BUG ALERT: what happens if we get interupted in this section, and someone else</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">    // accesses a different peripheral? </span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="comment">/* Clear TX and RX fifos */</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a>(paddr, <a class="code" href="group__constants.html#ga3edadb07afa115bb65af855b3d24b041">BCM2835_SPI0_CS_CLEAR</a>, <a class="code" href="group__constants.html#ga3edadb07afa115bb65af855b3d24b041">BCM2835_SPI0_CS_CLEAR</a>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="comment">/* Set TA = 1 */</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a>(paddr, <a class="code" href="group__constants.html#ga5bd14ddfd24fef1ab1fba861d03a434f">BCM2835_SPI0_CS_TA</a>, <a class="code" href="group__constants.html#ga5bd14ddfd24fef1ab1fba861d03a434f">BCM2835_SPI0_CS_TA</a>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="comment">/* Use the FIFO&#39;s to reduce the interbyte times */</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">while</span>((TXCnt &lt; len)||(RXCnt &lt; len))</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="comment">/* TX fifo not full, so add some more bytes */</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keywordflow">while</span>(((<a class="code" href="group__lowlevel.html#ga5f242135f5088f8c319492426a1ed5e3">bcm2835_peri_read</a>(paddr) &amp; <a class="code" href="group__constants.html#ga510230183c6e2b2214e7ec6f14b018a1">BCM2835_SPI0_CS_TXD</a>))&amp;&amp;(TXCnt &lt; len ))</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;           <a class="code" href="group__lowlevel.html#ga1c158b76d194b94d0b2fb1488f9ff30e">bcm2835_peri_write_nb</a>(fifo, tbuf[TXCnt]);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;           TXCnt++;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="comment">/* Rx fifo not empty, so get the next received bytes */</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordflow">while</span>(((<a class="code" href="group__lowlevel.html#ga5f242135f5088f8c319492426a1ed5e3">bcm2835_peri_read</a>(paddr) &amp; <a class="code" href="group__constants.html#ga62071206e365c0709810f9ba99bfbf0a">BCM2835_SPI0_CS_RXD</a>))&amp;&amp;( RXCnt &lt; len ))</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;           rbuf[RXCnt] = <a class="code" href="group__lowlevel.html#ga0f541d0997978dd30f60231b64f10230">bcm2835_peri_read_nb</a>(fifo);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;           RXCnt++;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">/* Wait for DONE to be set */</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">while</span> (!(<a class="code" href="group__lowlevel.html#ga0f541d0997978dd30f60231b64f10230">bcm2835_peri_read_nb</a>(paddr) &amp; <a class="code" href="group__constants.html#gaf08ece95c7f4b756e9b7ad04ca28bf1f">BCM2835_SPI0_CS_DONE</a>))</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    ;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">/* Set TA = 0, and also set the barrier */</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a>(paddr, 0, <a class="code" href="group__constants.html#ga5bd14ddfd24fef1ab1fba861d03a434f">BCM2835_SPI0_CS_TA</a>);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;}</div>
<div class="ttc" id="group__constants_html_ga4e4dc09d2f844ac51bbc259c457cc2bc"><div class="ttname"><a href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a></div><div class="ttdeci">volatile uint32_t * bcm2835_spi0</div><div class="ttdef"><b>Definition:</b> bcm2835.c:64</div></div>
<div class="ttc" id="group__constants_html_ga62071206e365c0709810f9ba99bfbf0a"><div class="ttname"><a href="group__constants.html#ga62071206e365c0709810f9ba99bfbf0a">BCM2835_SPI0_CS_RXD</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_RXD</div><div class="ttdef"><b>Definition:</b> bcm2835.h:801</div></div>
<div class="ttc" id="group__lowlevel_html_ga0f541d0997978dd30f60231b64f10230"><div class="ttname"><a href="group__lowlevel.html#ga0f541d0997978dd30f60231b64f10230">bcm2835_peri_read_nb</a></div><div class="ttdeci">uint32_t bcm2835_peri_read_nb(volatile uint32_t *paddr)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:145</div></div>
<div class="ttc" id="group__constants_html_gaf08ece95c7f4b756e9b7ad04ca28bf1f"><div class="ttname"><a href="group__constants.html#gaf08ece95c7f4b756e9b7ad04ca28bf1f">BCM2835_SPI0_CS_DONE</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_DONE</div><div class="ttdef"><b>Definition:</b> bcm2835.h:802</div></div>
<div class="ttc" id="group__lowlevel_html_ga5f242135f5088f8c319492426a1ed5e3"><div class="ttname"><a href="group__lowlevel.html#ga5f242135f5088f8c319492426a1ed5e3">bcm2835_peri_read</a></div><div class="ttdeci">uint32_t bcm2835_peri_read(volatile uint32_t *paddr)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:122</div></div>
<div class="ttc" id="group__lowlevel_html_ga1c158b76d194b94d0b2fb1488f9ff30e"><div class="ttname"><a href="group__lowlevel.html#ga1c158b76d194b94d0b2fb1488f9ff30e">bcm2835_peri_write_nb</a></div><div class="ttdeci">void bcm2835_peri_write_nb(volatile uint32_t *paddr, uint32_t value)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:176</div></div>
<div class="ttc" id="group__constants_html_ga5bd14ddfd24fef1ab1fba861d03a434f"><div class="ttname"><a href="group__constants.html#ga5bd14ddfd24fef1ab1fba861d03a434f">BCM2835_SPI0_CS_TA</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_TA</div><div class="ttdef"><b>Definition:</b> bcm2835.h:811</div></div>
<div class="ttc" id="group__constants_html_gabaa8c00767e856c38e3519eb9b5b73e0"><div class="ttname"><a href="group__constants.html#gabaa8c00767e856c38e3519eb9b5b73e0">BCM2835_SPI0_FIFO</a></div><div class="ttdeci">#define BCM2835_SPI0_FIFO</div><div class="ttdef"><b>Definition:</b> bcm2835.h:786</div></div>
<div class="ttc" id="group__lowlevel_html_ga01949a6285305f38ce0a47154e55c1b6"><div class="ttname"><a href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a></div><div class="ttdeci">void bcm2835_peri_set_bits(volatile uint32_t *paddr, uint32_t value, uint32_t mask)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:192</div></div>
<div class="ttc" id="group__constants_html_ga49919ca09a6264b1ff512497f96a7c0d"><div class="ttname"><a href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a></div><div class="ttdeci">#define BCM2835_SPI0_CS</div><div class="ttdef"><b>Definition:</b> bcm2835.h:785</div></div>
<div class="ttc" id="group__constants_html_ga510230183c6e2b2214e7ec6f14b018a1"><div class="ttname"><a href="group__constants.html#ga510230183c6e2b2214e7ec6f14b018a1">BCM2835_SPI0_CS_TXD</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_TXD</div><div class="ttdef"><b>Definition:</b> bcm2835.h:800</div></div>
<div class="ttc" id="group__constants_html_ga3edadb07afa115bb65af855b3d24b041"><div class="ttname"><a href="group__constants.html#ga3edadb07afa115bb65af855b3d24b041">BCM2835_SPI0_CS_CLEAR</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_CLEAR</div><div class="ttdef"><b>Definition:</b> bcm2835.h:813</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1b668c248fb9c09239bb59b7a2fad902"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bcm2835_spi_writenb </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transfers any number of bytes to the currently selected SPI slave. Asserts the currently selected CS pins (as previously set by bcm2835_spi_chipSelect) during the transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Buffer of bytes to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Number of bytes in the tbuf buffer, and the number of bytes to send </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="group__lowlevel.html#ga5f242135f5088f8c319492426a1ed5e3">bcm2835_peri_read()</a>, <a class="el" href="group__lowlevel.html#ga0f541d0997978dd30f60231b64f10230">bcm2835_peri_read_nb()</a>, <a class="el" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits()</a>, <a class="el" href="group__lowlevel.html#ga1c158b76d194b94d0b2fb1488f9ff30e">bcm2835_peri_write_nb()</a>, <a class="el" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a>, <a class="el" href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a>, <a class="el" href="group__constants.html#ga3edadb07afa115bb65af855b3d24b041">BCM2835_SPI0_CS_CLEAR</a>, <a class="el" href="group__constants.html#gaf08ece95c7f4b756e9b7ad04ca28bf1f">BCM2835_SPI0_CS_DONE</a>, <a class="el" href="group__constants.html#ga62071206e365c0709810f9ba99bfbf0a">BCM2835_SPI0_CS_RXD</a>, <a class="el" href="group__constants.html#ga5bd14ddfd24fef1ab1fba861d03a434f">BCM2835_SPI0_CS_TA</a>, <a class="el" href="group__constants.html#ga510230183c6e2b2214e7ec6f14b018a1">BCM2835_SPI0_CS_TXD</a>, and <a class="el" href="group__constants.html#gabaa8c00767e856c38e3519eb9b5b73e0">BCM2835_SPI0_FIFO</a>.</p>
<div class="fragment"><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;{</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keyword">volatile</span> uint32_t* paddr = <a class="code" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a> + <a class="code" href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a>/4;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keyword">volatile</span> uint32_t* fifo = <a class="code" href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a> + <a class="code" href="group__constants.html#gabaa8c00767e856c38e3519eb9b5b73e0">BCM2835_SPI0_FIFO</a>/4;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    uint32_t i;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="comment">/* This is Polled transfer as per section 10.6.1</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment">    // BUG ALERT: what happens if we get interupted in this section, and someone else</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">    // accesses a different peripheral?</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">    // Answer: an ISR is required to issue the required memory barriers.</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="comment">/* Clear TX and RX fifos */</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <a class="code" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a>(paddr, <a class="code" href="group__constants.html#ga3edadb07afa115bb65af855b3d24b041">BCM2835_SPI0_CS_CLEAR</a>, <a class="code" href="group__constants.html#ga3edadb07afa115bb65af855b3d24b041">BCM2835_SPI0_CS_CLEAR</a>);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="comment">/* Set TA = 1 */</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <a class="code" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a>(paddr, <a class="code" href="group__constants.html#ga5bd14ddfd24fef1ab1fba861d03a434f">BCM2835_SPI0_CS_TA</a>, <a class="code" href="group__constants.html#ga5bd14ddfd24fef1ab1fba861d03a434f">BCM2835_SPI0_CS_TA</a>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; len; i++)</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="comment">/* Maybe wait for TXD */</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">while</span> (!(<a class="code" href="group__lowlevel.html#ga5f242135f5088f8c319492426a1ed5e3">bcm2835_peri_read</a>(paddr) &amp; <a class="code" href="group__constants.html#ga510230183c6e2b2214e7ec6f14b018a1">BCM2835_SPI0_CS_TXD</a>))</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        ;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="comment">/* Write to FIFO, no barrier */</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <a class="code" href="group__lowlevel.html#ga1c158b76d194b94d0b2fb1488f9ff30e">bcm2835_peri_write_nb</a>(fifo, tbuf[i]);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="comment">/* Read from FIFO to prevent stalling */</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="group__lowlevel.html#ga5f242135f5088f8c319492426a1ed5e3">bcm2835_peri_read</a>(paddr) &amp; <a class="code" href="group__constants.html#ga62071206e365c0709810f9ba99bfbf0a">BCM2835_SPI0_CS_RXD</a>)</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        (void) <a class="code" href="group__lowlevel.html#ga0f541d0997978dd30f60231b64f10230">bcm2835_peri_read_nb</a>(fifo);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="comment">/* Wait for DONE to be set */</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">while</span> (!(<a class="code" href="group__lowlevel.html#ga0f541d0997978dd30f60231b64f10230">bcm2835_peri_read_nb</a>(paddr) &amp; <a class="code" href="group__constants.html#gaf08ece95c7f4b756e9b7ad04ca28bf1f">BCM2835_SPI0_CS_DONE</a>)) {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="group__lowlevel.html#ga5f242135f5088f8c319492426a1ed5e3">bcm2835_peri_read</a>(paddr) &amp; <a class="code" href="group__constants.html#ga62071206e365c0709810f9ba99bfbf0a">BCM2835_SPI0_CS_RXD</a>)</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        (<span class="keywordtype">void</span>) <a class="code" href="group__lowlevel.html#ga0f541d0997978dd30f60231b64f10230">bcm2835_peri_read_nb</a>(fifo);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    };</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="comment">/* Set TA = 0, and also set the barrier */</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a>(paddr, 0, <a class="code" href="group__constants.html#ga5bd14ddfd24fef1ab1fba861d03a434f">BCM2835_SPI0_CS_TA</a>);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;}</div>
<div class="ttc" id="group__constants_html_ga4e4dc09d2f844ac51bbc259c457cc2bc"><div class="ttname"><a href="group__constants.html#ga4e4dc09d2f844ac51bbc259c457cc2bc">bcm2835_spi0</a></div><div class="ttdeci">volatile uint32_t * bcm2835_spi0</div><div class="ttdef"><b>Definition:</b> bcm2835.c:64</div></div>
<div class="ttc" id="group__constants_html_ga62071206e365c0709810f9ba99bfbf0a"><div class="ttname"><a href="group__constants.html#ga62071206e365c0709810f9ba99bfbf0a">BCM2835_SPI0_CS_RXD</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_RXD</div><div class="ttdef"><b>Definition:</b> bcm2835.h:801</div></div>
<div class="ttc" id="group__lowlevel_html_ga0f541d0997978dd30f60231b64f10230"><div class="ttname"><a href="group__lowlevel.html#ga0f541d0997978dd30f60231b64f10230">bcm2835_peri_read_nb</a></div><div class="ttdeci">uint32_t bcm2835_peri_read_nb(volatile uint32_t *paddr)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:145</div></div>
<div class="ttc" id="group__constants_html_gaf08ece95c7f4b756e9b7ad04ca28bf1f"><div class="ttname"><a href="group__constants.html#gaf08ece95c7f4b756e9b7ad04ca28bf1f">BCM2835_SPI0_CS_DONE</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_DONE</div><div class="ttdef"><b>Definition:</b> bcm2835.h:802</div></div>
<div class="ttc" id="group__lowlevel_html_ga5f242135f5088f8c319492426a1ed5e3"><div class="ttname"><a href="group__lowlevel.html#ga5f242135f5088f8c319492426a1ed5e3">bcm2835_peri_read</a></div><div class="ttdeci">uint32_t bcm2835_peri_read(volatile uint32_t *paddr)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:122</div></div>
<div class="ttc" id="group__lowlevel_html_ga1c158b76d194b94d0b2fb1488f9ff30e"><div class="ttname"><a href="group__lowlevel.html#ga1c158b76d194b94d0b2fb1488f9ff30e">bcm2835_peri_write_nb</a></div><div class="ttdeci">void bcm2835_peri_write_nb(volatile uint32_t *paddr, uint32_t value)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:176</div></div>
<div class="ttc" id="group__constants_html_ga5bd14ddfd24fef1ab1fba861d03a434f"><div class="ttname"><a href="group__constants.html#ga5bd14ddfd24fef1ab1fba861d03a434f">BCM2835_SPI0_CS_TA</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_TA</div><div class="ttdef"><b>Definition:</b> bcm2835.h:811</div></div>
<div class="ttc" id="group__constants_html_gabaa8c00767e856c38e3519eb9b5b73e0"><div class="ttname"><a href="group__constants.html#gabaa8c00767e856c38e3519eb9b5b73e0">BCM2835_SPI0_FIFO</a></div><div class="ttdeci">#define BCM2835_SPI0_FIFO</div><div class="ttdef"><b>Definition:</b> bcm2835.h:786</div></div>
<div class="ttc" id="group__lowlevel_html_ga01949a6285305f38ce0a47154e55c1b6"><div class="ttname"><a href="group__lowlevel.html#ga01949a6285305f38ce0a47154e55c1b6">bcm2835_peri_set_bits</a></div><div class="ttdeci">void bcm2835_peri_set_bits(volatile uint32_t *paddr, uint32_t value, uint32_t mask)</div><div class="ttdef"><b>Definition:</b> bcm2835.c:192</div></div>
<div class="ttc" id="group__constants_html_ga49919ca09a6264b1ff512497f96a7c0d"><div class="ttname"><a href="group__constants.html#ga49919ca09a6264b1ff512497f96a7c0d">BCM2835_SPI0_CS</a></div><div class="ttdeci">#define BCM2835_SPI0_CS</div><div class="ttdef"><b>Definition:</b> bcm2835.h:785</div></div>
<div class="ttc" id="group__constants_html_ga510230183c6e2b2214e7ec6f14b018a1"><div class="ttname"><a href="group__constants.html#ga510230183c6e2b2214e7ec6f14b018a1">BCM2835_SPI0_CS_TXD</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_TXD</div><div class="ttdef"><b>Definition:</b> bcm2835.h:800</div></div>
<div class="ttc" id="group__constants_html_ga3edadb07afa115bb65af855b3d24b041"><div class="ttname"><a href="group__constants.html#ga3edadb07afa115bb65af855b3d24b041">BCM2835_SPI0_CS_CLEAR</a></div><div class="ttdeci">#define BCM2835_SPI0_CS_CLEAR</div><div class="ttdef"><b>Definition:</b> bcm2835.h:813</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 4 2017 13:23:12 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
